@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS variables / design tokens */
:root {
  color-scheme: light;
  --background: #ffffff;
  --foreground: #171717;

  --header-height: 72px;

  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --font-sans: var(--font-th, var(--font-en, sans-serif));
  --font-mono: var(--font-en, monospace);

  /* type scale */
  --step--1: clamp(0.85rem, 0.8rem + 0.25vw, 0.95rem);
  --step-0: clamp(0.95rem, 0.9rem + 0.3vw, 1.1rem);
  --step-1: clamp(1.15rem, 1rem + 0.4vw, 1.35rem);
  --step-2: clamp(1.45rem, 1.2rem + 0.8vw, 1.9rem);
  --step-3: clamp(1.95rem, 1.4rem + 1.4vw, 2.6rem);
  --step-4: clamp(2.6rem, 1.8rem + 2.6vw, 4rem);
}

:lang(th) {
  font-family: var(--font-th), system-ui, sans-serif;
}

:lang(en),
:lang(fr),
:lang(de),
:lang(nl),
:lang(it),
:lang(ms) {
  font-family: var(--font-en), system-ui, sans-serif;
}

:lang(zh-Hans) {
  font-family: var(--font-zh-hans), system-ui, sans-serif;
}

:lang(zh-Hant) {
  font-family: var(--font-zh-hant), system-ui, sans-serif;
}

:lang(ja) {
  font-family: var(--font-ja), system-ui, sans-serif;
}

:lang(ko) {
  font-family: var(--font-ko), system-ui, sans-serif;
}

:lang(hi) {
  font-family: var(--font-hi), system-ui, sans-serif;
}

:lang(ta) {
  font-family: var(--font-ta), system-ui, sans-serif;
}

:lang(ar) {
  font-family: var(--font-ar), system-ui, serif;
}

:lang(fa) {
  font-family: var(--font-fa), system-ui, sans-serif;
}

:lang(he) {
  font-family: var(--font-he), system-ui, sans-serif;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Box model baseline (ปล่อยไว้นอก layer ได้) */
* {
  box-sizing: border-box;
}

/* ✅ ย้าย “ดีฟอลต์ตัวอักษร” เข้า base layer
   เพื่อให้ Tailwind utilities (เช่น text-[14px]) ชนะตามคาด */
@layer base {
  body {
    margin: 0;
    min-height: 100vh;
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-size: var(--step-0);
    line-height: 1.65;
    text-rendering: optimizeLegibility;
    font-family: var(--font-sans);
  }

  a {
    color: inherit;
  }

  p,
  li {
    font-size: inherit;
  }

  small,
  .text-xs {
    font-size: var(--step--1);
  }

  h1,
  .text-h1 {
    font-size: var(--step-4);
    line-height: 1.1;
  }

  h2,
  .text-h2 {
    font-size: var(--step-3);
    line-height: 1.2;
  }

  h3,
  .text-h3 {
    font-size: var(--step-2);
    line-height: 1.25;
  }
}

/* behavior / motion */
html {
  scroll-behavior: smooth;
}
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* RTL helpers (คงไว้ global ได้) */
html[dir='rtl'] body {
  text-align: right;
}
html[dir='rtl'] a,
html[dir='rtl'] p,
html[dir='rtl'] h1,
html[dir='rtl'] h2,
html[dir='rtl'] h3 {
  direction: rtl;
}

/* Utilities (เล็กๆ น้อยๆ) */
.text-shadow-white {
  text-shadow: 0 2px 6px rgba(255, 255, 255, 0.5);
}
.no-image-fade {
  animation: none !important;
  transition: none !important;
}

/* Removed legacy navbar rules in favour of Tailwind utilities. */

@layer utilities {
  .drawer-language-scroll {
    scrollbar-width: none;
  }

  .drawer-language-scroll::-webkit-scrollbar {
    display: none;
  }

  .drawer-utilities [data-drawer-active='true'] {
    border-color: #a70909;
    border-width: 1px;
    background-color: #ffffff;
    color: #a70909;
  }

  .drawer-utilities [data-drawer-active='true']:focus-visible {
    outline: 2px solid #a70909;
    outline-offset: 2px;
  }

  /* Safe area padding utility */
  .px-safe {
    padding-inline-start: max(1.5rem, env(safe-area-inset-left));
    padding-inline-end: max(1.5rem, env(safe-area-inset-right));
  }
}

@supports not (padding-inline-start: 1rem) {
  .px-safe {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}
